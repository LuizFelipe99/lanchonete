<!-- Voltar -->
<button class="btn-back" routerLink="../../../home" aria-label="Voltar">
  <mat-icon>arrow_back</mat-icon>
  <span>Voltar</span>
</button>

<!-- Cards por método de pagamento -->
<div class="method-grid">
  <mat-card class="pay-card" *ngFor="let label of labels; let i = index"
            [style.backgroundColor]="colorsBg[i]">
    <div class="pay-card__body">
      <div class="pay-card__icon">
        <mat-icon [ngSwitch]="label">
          <ng-container *ngSwitchCase="'Pix'">attach_money</ng-container>
          <ng-container *ngSwitchCase="'Dinheiro'">payments</ng-container>
          <ng-container *ngSwitchCase="'Cartão'">credit_card</ng-container>
          <ng-container *ngSwitchDefault>payment</ng-container>
        </mat-icon>
      </div>

      <div class="pay-card__desc">
        <p class="pay-value">R$ {{ quantities[i] | number:'1.2-2' }}</p>
        <p class="pay-label">{{ label }}</p>
      </div>
    </div>

    <div class="pay-card__footer" [style.backgroundColor]="colorsFooter[i]">
      <span>{{ current_month }}</span>
    </div>
  </mat-card>
</div>

<!-- Gráfico -->
<mat-card class="chart-card">
  <div class="chart-head">
    <div class="chart-title">
      <mat-icon>donut_large</mat-icon>
      <span>Gráfico mês atual</span>
    </div>

    <!-- Alterna donut ↔ barras usando sua função -->
    <button type="button" class="btn-toggle" (click)="changeChart()">
      <mat-icon *ngIf="!barChartControl">bar_chart</mat-icon>
      <mat-icon *ngIf="barChartControl">donut_large</mat-icon>
      <span>{{ barChartControl ? 'Ver pizza' : 'Ver barras' }}</span>
    </button>
  </div>

  <div class="chart-body">
    <canvas *ngIf="!barChartControl" #financeChartDetail class="chart-canvas"></canvas>
    <canvas *ngIf="barChartControl"  #financeChartDetailBar class="chart-canvas"></canvas>
  </div>
</mat-card>
