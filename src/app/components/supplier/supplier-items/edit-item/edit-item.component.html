<div class="item-edit-page">
  <mat-card class="form-card">
    <!-- Loading overlay -->
    <div class="loading-overlay" *ngIf="isLoad">
      <mat-spinner diameter="48"></mat-spinner>
    </div>

    <!-- Cabeçalho -->
    <div class="form-card__head">
      <div class="head-left">
        <mat-icon>inventory_2</mat-icon>
        <span>Editar Item</span>
      </div>
    </div>

    <!-- Conteúdo -->
    <div class="form-card__body" *ngFor="let item of items">
      <form class="form-grid">
        <mat-form-field appearance="outline">
          <mat-label>Nome</mat-label>
          <input autofocus matInput placeholder="Nome do item" name="name"
                 [(ngModel)]="newItem.name" required />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Descrição</mat-label>
          <input matInput placeholder="Descrição" name="description"
                 [(ngModel)]="newItem.description" required />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Preço de venda</mat-label>
          <input matInput type="number" step="0.01" inputmode="decimal"
                 placeholder="0,00" name="sale_price"
                 [(ngModel)]="newItem.sale_price" required />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Categoria</mat-label>
          <mat-select name="category" [(ngModel)]="newItem.category" *ngIf="category_names" required>
            <mat-option *ngFor="let names of category_names" [value]="names.id_category">
              {{ names.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </form>

      <div class="actions-row">
        <button mat-raised-button class="button-warning" (click)="cancel()">
          Fechar
        </button>
        <button mat-raised-button class="button-success" (click)="updateItem()">
          Salvar
        </button>
      </div>
    </div>
  </mat-card>
</div>
